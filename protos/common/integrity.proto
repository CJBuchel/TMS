syntax = "proto3";

package tms.common;

enum IntegrityCode {
  // Errors
  E000 = 0;
  E001 = 1;
  E002 = 2;
  E003 = 3;
  E004 = 4;
  E005 = 5;
  E006 = 6;
  E007 = 7;
  E008 = 8;
  E009 = 9;
  E010 = 10;
  E011 = 11;
  E012 = 12;
  E013 = 13;

  // Warnings - starts at 1000 for future
  W000 = 1000;
  W001 = 1001;
  W002 = 1002;
  W003 = 1003;
  W004 = 1004;
  W005 = 1005;
  W006 = 1006;
  W007 = 1007;
  W008 = 1008;
  W009 = 1009;
  W010 = 1010;
  W011 = 1011;
  W012 = 1012;
  W013 = 1013;
  W014 = 1014;
  W015 = 1015;
  W016 = 1016;
  W017 = 1017;
  W018 = 1018;
}

enum IntegritySeverity {
  UNSPECIFIED = 0;
  ERROR = 1;
  WARNING = 2;
}

message IntegrityContext {
  repeated string context_keys = 1;
  optional string team_number = 2;
  optional string match_number = 3;
  optional string session_number = 4;
  optional string table_name = 5;
  optional string pod_name = 6;
}

message IntegrityMessage {
  IntegrityCode code = 1;
  IntegritySeverity severity = 2;
  IntegrityContext context = 3;
  string formatted_message = 4;
}
